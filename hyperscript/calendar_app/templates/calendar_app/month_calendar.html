{% extends 'base.html' %}

{% block title %}{{ month_name }} {{ year }} - HyperScript{% endblock %}

{% block content %}
<div class="container">

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>üìÖ {{ month_name }} {{ year }}</h1>
        <a href="{% url 'year_calendar' %}" class="btn btn-outline-secondary">
            –ù–∞–∑–∞–¥ –∫ –≥–æ–¥–∞–º
        </a>
    </div>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
    <div class="card">
        <div class="card-header bg-light">
            <div class="row text-center fw-bold">
                <div class="col">–ü–Ω</div>
                <div class="col">–í—Ç</div>
                <div class="col">–°—Ä</div>
                <div class="col">–ß—Ç</div>
                <div class="col">–ü—Ç</div>
                <div class="col">–°–±</div>
                <div class="col">–í—Å</div>
            </div>
        </div>

        <div class="card-body p-0">
            {% for week in calendar %}
            <div class="row week-row g-0">
                {% for day in week %}
                <div class="col day-cell border
                    {% if day == 0 %} bg-light {% endif %}
                    {% if day != 0 and today.year == year and today.month == month and day == today.day %}
                        bg-warning
                    {% endif %}">

                    {% if day != 0 %}
                        <div class="day-number
                            {% if today.year == year and today.month == month and day == today.day %}
                                fw-bold
                            {% endif %}">
                            {{ day }}
                        </div>
                    {% endif %}

                </div>
                {% endfor %}
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º -->
    <div class="d-flex justify-content-between mt-4">
        <a href="{% url 'month_calendar' prev_year prev_month %}" class="btn btn-primary">
            ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π
        </a>

        <a href="{% url 'month_calendar' next_year next_month %}" class="btn btn-primary">
            –°–ª–µ–¥—É—é—â–∏–π ‚Üí
        </a>
    </div>

</div>

<style>
.week-row {
    min-height: 90px;
}

.day-cell {
    aspect-ratio: 1;
    position: relative;
}

.day-number {
    font-size: 1.1em;
    position: absolute;
    top: 6px;
    right: 8px;
}
</style>
{% endblock %}
